<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>For Cheri üå∏</title>

<style>
body{
    margin:0;
    height:100vh;
    font-family: 'Segoe UI', cursive;
    background: linear-gradient(135deg,#d9c6ff,#5c3b88);
    display:flex;
    justify-content:center;
    align-items:center;
    text-align:center;
    overflow:hidden;
    font-size: clamp(18px, 6vw, 20px);
    font-weight: bold;
    transition: all .4s ease;
    color:#e75480;
}

/* floating hearts */
.heart{
    position:absolute;
    color:#ff4d88;
    animation: float 6s linear infinite;
    opacity:.5;
}
@keyframes float{
    from{transform:translateY(100vh);opacity:0}
    to{transform:translateY(-10vh);opacity:.7}
}

.card{
    background: rgba(255,255,255,0.65); /* translucent */
    backdrop-filter: blur(12px);        /* glass blur */
    -webkit-backdrop-filter: blur(12px);
    
    padding:30px;
    border-radius:22px;

    border: 1px solid rgba(255,255,255,0.4); /* soft edge */

    box-shadow:
        0 10px 30px rgba(0,0,0,.12),
        inset 0 0 10px rgba(255,255,255,.3); /* subtle shine */

    width:90%;
    max-width:380px;
}

button{
    padding:12px 25px;
    border:none;
    border-radius:30px;
    font-size:16px;
    cursor:pointer;
    margin:8px;
}

/* YES button */
#yesBtn{
    background:#ff9bb8;
    color:white;
    font-size:14px;
    transition: transform .35s cubic-bezier(.22,1.5,.36,1);
}

#yesBtn:disabled{
    cursor:not-allowed;
    transform: scale(.9);
}

/* NO button */
#noBtn{
    background:#ff3b3b;
    color:white;
    position:relative;
    transition:
        left .45s cubic-bezier(.22,1.5,.36,1),
        top .45s cubic-bezier(.22,1.5,.36,1),
        transform .25s ease;
}

input{
    padding:10px;
    border-radius:20px;
    border:1px solid #ccc;
    width:80%;
    margin-top:10px;
}

.hidden{display:none;}

#confetti{
    position:fixed;
    top:0;left:0;
    pointer-events:none;
}
/* ‚ú® glow animation for final message */
.glowMsg{
    animation: glowPulse 1.2s ease-in-out infinite alternate;
}

@keyframes glowPulse{
    from{
        text-shadow: 0 0 5px #ff9bb8;
        transform: scale(1);
    }
    to{
        text-shadow:
            0 0 10px #ff9bb8,
            0 0 20px #ff4d88,
            0 0 35px #ff4d88;
        transform: scale(1.05);
     }
}
</style>
</head>

<body>

<canvas id="confetti"></canvas>

<!-- ================= QUIZ 1 ================= -->
<div class="card" id="stage0a">
    <h2>Cheri Mini quiz first üòå</h2>
    <h3>Who fell asleep first while we chat? üò¥</h3>
    <input id="q1" placeholder="type here..."/>
    <br><br>
    <button onclick="checkQ1()">Submit</button>
    <p id="r1"></p>
</div>

<!-- ================= QUIZ 2 ================= -->
<div class="card hidden" id="stage0b">
    <h2>Next one üòè</h2>
    <h3>Who is introvert publicly but naughty with me? üôà</h3>
    <input id="q2" placeholder="type here..."/>
    <br><br>
    <button onclick="checkQ2()">Submit</button>
    <p id="r2"></p>
</div>

<!-- ================= ORIGINAL QUESTION ================= -->
<div class="card hidden" id="stage1">
    <h2>Hey Jennie üíï</h2>
    <p>Tell me first...</p>
    <h3>Lets test ur observation skillüòå-Whats the most beautiful thing in this world?üòâ</h3>
    <input id="answer" placeholder="type here..."/>
    <br><br>
    <button onclick="checkAnswer()">Submit</button>
    <p id="response"></p>
</div>

<!-- ================= VALENTINE ================= -->
<div class="card hidden" id="stage2">
    <h2>Will you be my Valentine? üíò,Choose carefully üò†</h2>
    <div id="btnBox">
        <button id="yesBtn" disabled>Yes üêª</button>
        <button id="noBtn">No</button>
    </div>
    <p id="msg"></p>
    <p style="margin-top:20px;font-size:12px;color:#888;">With ‚ù§Ô∏è Mathew</p>
</div>

<script>

let noCount = 0;
let noScale = 1;
let yesScale = 1;
let resultLog = [];
let userAnswer = "";


/* =========================
   ‚úèÔ∏è EDIT YOUR MESSAGES HERE
   ========================= */
const q1RightMsg = "hehe sleepy princess detected üò¥üíï";
const q1WrongMsg = "mmmh! it's you silly üòå";

const q2RightMsg = "publicly shy‚Ä¶ privately... üòè‚ù§Ô∏è";
const q2WrongMsg = "???? it's definitely you naughty girl üôà";



/* helper */
function isHerAnswer(text){
    return text.includes("me") ||
           text.includes("myself") ||
           text.includes("its me") ||
           text.includes("jennie") ||
           text.includes("jen"); 
}



/* ================= QUIZ 1 ================= */
function checkQ1(){
    let ans = document.getElementById("q1").value.trim().toLowerCase();

    if(ans === ""){
        document.getElementById("r1").innerText = "hey hey üò§ answer first!";
        return;
    }

    resultLog.push("Q1: " + ans);

    document.getElementById("r1").innerText =
        isHerAnswer(ans) ? q1RightMsg : q1WrongMsg;

    setTimeout(()=>{
        stage0a.classList.add("hidden");
        stage0b.classList.remove("hidden");
    },3000);
}
/* ================= QUIZ 2 ================= */
function checkQ2(){
    let ans = document.getElementById("q2").value.trim().toLowerCase();

    if(ans === ""){
        document.getElementById("r2").innerText = "no skipping üå∏ üòè type something";
        return;
    }

    resultLog.push("Q2: " + ans);

    document.getElementById("r2").innerText =
        isHerAnswer(ans) ? q2RightMsg : q2WrongMsg;

    setTimeout(()=>{
        stage0b.classList.add("hidden");
        stage1.classList.remove("hidden");
    },3000);
}



/* ================= ORIGINAL ================= */
function checkAnswer(){
    let ans = answer.value.trim().toLowerCase();

    if(ans === ""){
        response.innerText = "come onnnn üòÜ say something first";
        return;
    }

    userAnswer = ans;
    resultLog.push("Answer: " + ans);

    if(isHerAnswer(ans)){
        response.innerText="yehh u Cheriüå∏! self-aware qween üôà";
    } else {
        response.innerText="Hint: a Girl and shes mineüòå";
    }

    setTimeout(()=>{
        stage1.classList.add("hidden");
        stage2.classList.remove("hidden");
    },3000);
}



/* ================= NO BUTTON ================= */
let noBtn = document.getElementById("noBtn");
let yesBtn = document.getElementById("yesBtn");
let msg = document.getElementById("msg");

noBtn.addEventListener("mouseover",moveNo);
noBtn.addEventListener("click",moveNo);

function moveNo(){
    noCount++;
    resultLog.push("Pressed NO attempt: " + noCount);
    
    if(noCount==1){
        msg.innerText="Are u sure? ü•∫";
    }
    else if(noCount==2){
        msg.innerText="Realllyy?? üò†";
    }
    else if(noCount==3){
        msg.innerText="no no ü§®";
    }
    
    if(noCount>=4){
        noBtn.style.display="none";
        yesBtn.disabled = false;   // ‚úÖ unlock YES
        msg.innerText="oky oky u clearly want YES üòåüíï";
        return;
    }

    noBtn.style.position="absolute";
    noBtn.style.left=Math.random()*75+"%";
    noBtn.style.top=Math.random()*75+"%";

    noScale -= 0.15;
    if(noScale < 0.25) noScale = 0.25;
    noBtn.style.transform = `scale(${noScale})`;

    yesScale += 0.15;
    if(yesScale > 2.5) yesScale = 2.5;
    yesBtn.style.transform = `scale(${yesScale})`;
}



/* ================= YES ================= */
yesBtn.onclick=function(){
    resultLog.push("Final choice: YES ‚ù§Ô∏è");
    msg.innerText="yess..I knew it üòè\n\nMade it jus for uüå∏";
    msg.classList.add("glowMsg");   // ‚ú® glow starts
    startConfetti();
    saveResult();
};



/* ================= GOOGLE FORM (UNCHANGED) ================= */
function saveResult(){
    const formURL = "https://docs.google.com/forms/u/0/d/e/1FAIpQLScDSu5SOw8JiNls0eKXgRRrkG_wcvNJXLMqHSj_dA0dm_cF4w/formResponse";

    const data = new FormData();

    const fullLog =
        "Answer: " + userAnswer +
        "\nNo attempts: " + noCount +
        "\n\nLog:\n" + resultLog.join("\n");

    data.append("entry.0", fullLog);
    data.append("entry.2", "YES");

    fetch(formURL,{
        method:"POST",
        mode:"no-cors",
        body:data
    });
}



/* ================= CONFETTI ================= */
function startConfetti(){
    const canvas=confetti;
    const ctx=canvas.getContext("2d");
    canvas.width=innerWidth;
    canvas.height=innerHeight;

    let pieces=[];
    for(let i=0;i<150;i++){
        pieces.push({
            x:Math.random()*canvas.width,
            y:Math.random()*canvas.height,
            dy:2+Math.random()*3,
            size:5+Math.random()*5
        });
    }

    function draw(){
        ctx.clearRect(0,0,canvas.width,canvas.height);
        pieces.forEach(p=>{
            ctx.fillRect(p.x,p.y,p.size,p.size);
            p.y+=p.dy;
            if(p.y>canvas.height)p.y=0;
        });
        requestAnimationFrame(draw);
    }
    draw();
}



/* floating hearts */
setInterval(()=>{
    let h=document.createElement("div");
    h.innerHTML="‚ù§";
    h.className="heart";
    h.style.left=Math.random()*100+"vw";
    h.style.fontSize=(20+Math.random()*20)+"px";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),6000);
},400);

</script>
</body>
</html>
